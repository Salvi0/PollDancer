<!--
 * Emoojis
 * https://github.com/AlexxTrs/Emoojis
 *
 * Copyright (c) 2017 by AlexxTrs
 *
 * Licensed under the Apache license v2.0.
-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <link href="https://code.getmdl.io/1.3.0/material.min.css" type="text/css" rel="stylesheet">
        <style type="text/css">
            .mdl-tabs__tab{display: flex;align-items: center;outline: none}
            .mdl-tabs__panel div{padding: 16px}
            .mdl-tabs__tab img{width: 24px!important;height: 24px!important;margin: 0!important}
            .mdl-tooltip{text-transform: capitalize}
            .mdl-textfield{width: auto;margin: 16px;display: block}
            textarea{resize: none}
            img.emoji{width: 30px;height: 30px;margin: 5px;vertical-align: middle;cursor: pointer}
        </style>
    </head>
    <body>
        <div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
            <div class="mdl-tabs__tab-bar">
                <a href="#smiles" class="mdl-tabs__tab">&#x1F600;</a>
                <a href="#nature" class="mdl-tabs__tab">&#x1F43B;</a>
                <a href="#food" class="mdl-tabs__tab">&#x1F354;</a>
                <a href="#activities" class="mdl-tabs__tab">&#x26BD;</a>
                <a href="#places" class="mdl-tabs__tab">&#x1F696;</a>
                <a href="#objects" class="mdl-tabs__tab">&#x1F4A1;</a>
                <a href="#symbols" class="mdl-tabs__tab">&#x2764;</a>
                <a href="#flags" class="mdl-tabs__tab">&#x1F3F3;</a>
            </div>
            
            <div class="mdl-tabs__panel" id="smiles">
                <div>
                &#x1F600;
                &#x1F601;
                &#x1F602;
                &#x1F603;
                &#x1F604;
                &#x1F605;
                &#x1F606;
                &#x1F607;
                &#x1F608;
                &#x1F609;
                &#x1F60A;
                &#x1F60B;
                &#x1F60C;
                &#x1F60D;
                &#x1F60E;
                &#x1F60F;
                &#x1F610;
                &#x1F611;
                &#x1F612;
                &#x1F613;
                &#x1F614;
                &#x1F615;
                &#x1F616;
                &#x1F617;
                &#x1F618;
                &#x1F619;
                &#x1F61A;
                &#x1F61B;
                &#x1F61C;
                &#x1F61D;
                &#x1F61E;
                &#x1F61F;
                &#x1F620;
                &#x1F621;
                &#x1F622;
                &#x1F623;
                &#x1F624;
                &#x1F625;
                &#x1F626;
                &#x1F627;
                &#x1F628;
                &#x1F629;
                &#x1F62A;
                &#x1F62B;
                &#x1F62C;
                &#x1F62D;
                &#x1F62E;
                &#x1F62F;
                &#x1F630;
                &#x1F631;
                &#x1F632;
                &#x1F633;
                &#x1F634;
                &#x1F635;
                &#x1F636;
                &#x1F637;
                &#x1F638;
                &#x1F639;
                &#x1F63A;
                &#x1F63B;
                &#x1F63C;
                &#x1F63D;
                &#x1F63E;
                &#x1F63F;
                &#x1F640;
                &#x1F641;
                &#x1F642;
                &#x1F643;
                &#x1F644;
                </div>
            </div>
            <div class="mdl-tabs__panel" id="nature">
                <div>
                &#x1F400;
                &#x1F401;
                &#x1F402;
                &#x1F403;
                &#x1F404;
                &#x1F405;
                &#x1F406;
                &#x1F407;
                &#x1F408;
                &#x1F409;
                &#x1F40A;
                &#x1F40B;
                &#x1F40C;
                &#x1F40D;
                &#x1F40E;
                &#x1F40F;
                &#x1F410;
                &#x1F411;
                &#x1F412;
                &#x1F413;
                &#x1F414;
                &#x1F415;
                &#x1F416;
                &#x1F417;
                &#x1F418;
                &#x1F419;
                &#x1F41A;
                &#x1F41B;
                &#x1F41C;
                &#x1F41D;
                &#x1F41E;
                &#x1F41F;
                &#x1F420;
                &#x1F421;
                &#x1F422;
                &#x1F423;
                &#x1F424;
                &#x1F425;
                &#x1F426;
                &#x1F427;
                &#x1F428;
                &#x1F429;
                &#x1F42A;
                &#x1F42B;
                &#x1F42C;
                &#x1F42D;
                &#x1F42E;
                &#x1F42F;
                &#x1F430;
                &#x1F431;
                &#x1F432;
                &#x1F433;
                &#x1F434;
                &#x1F435;
                &#x1F436;
                &#x1F437;
                &#x1F438;
                &#x1F439;
                &#x1F43A;
                &#x1F43B;
                &#x1F43C;
                &#x1F43D;
                &#x1F43E;
                &#x1F43F;
                </div>
            </div>
            <div class="mdl-tabs__panel" id="food">
                <div>
                </div>
            </div>
            <div class="mdl-tabs__panel" id="activities">
                <div>
                </div>
            </div>
            <div class="mdl-tabs__panel" id="places">
                <div>
                </div>
            </div>
            <div class="mdl-tabs__panel" id="objects">
                <div>
                </div>
            </div>
            <div class="mdl-tabs__panel" id="symbols">
                <div>
                </div>
            </div>
            <div class="mdl-tabs__panel" id="flags">
                <div>
                </div>
            </div>
        </div>
        <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
            <textarea class="mdl-textfield__input" type="text" rows= "5" id="area" ></textarea>
            <label class="mdl-textfield__label" for="area"></label>
        </div>
        <script defer src="https://code.getmdl.io/1.3.0/material.min.js" type="text/javascript"></script>
        <script src="https://twemoji.maxcdn.com/2/twemoji.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            function searchTerm(term) {
                var query = window.location.search.substring(1).split("&");
                for (var k = 0, max = query.length; k < max; k++) {
                    if (query[k] === "")
                        continue;
            
                    var param = query[k].split("=");
                    if(term === decodeURIComponent(param[0]))
                        return decodeURIComponent(param[1])
                }
            }
            
            var active = document.getElementById(searchTerm("active")) || document.getElementById("smiles");
            active.className = active.classList + " is-active";
            
            var tabs = document.getElementsByClassName("mdl-tabs__tab"),
                area = document.getElementById("area");
            
            for(var i = 0; i < tabs.length; i++) {
                var id = "tooltip-" + Math.random().toString(36).substring(7);
                tabs[i].setAttribute("id", id);
                var tooltip = document.createElement("span"), text = tabs[i].getAttribute("href").substring(1);
                tooltip.appendChild(document.createTextNode(searchTerm(text) || text));
                tooltip.className = "mdl-tooltip";
                tooltip.setAttribute("for", id);
                tabs[i].insertBefore(tooltip, tabs[i].childNodes[0]);
            }
            
            twemoji.parse(document.getElementsByClassName("mdl-tabs")[0]);
            
            (function (img, i) {
                function writeInField(e) {
                    area.value = area.value + this.alt;
                    if(area.onfocus === null) {
                        if(area.parentElement.classList.length < 5)
                            area.parentElement.className = area.parentElement.classList + " is-dirty";
                    }
                    area.focus();
                        
                }
                for (i = 0; i < img.length; img[i++].onclick = writeInField) {}
            }(document.getElementsByTagName("img")));
            
            area.parentElement.getElementsByTagName("label")[0].textContent = searchTerm("text") || "The emoji will appear here";
            
            var terms_hide = (searchTerm("hide") || "").split("-");
            for(var o = 0; o < terms_hide.length; o++) {
                var elm = document.getElementById(terms_hide[o]) || null;
                if(elm != null)
                    elm.parentElement.removeChild(elm);
                var a = document.getElementsByClassName("mdl-tabs")[0].getElementsByTagName("a");
                for(var q = 0; q <a.length; q++) {
                    var remove = a[q].getAttribute("href").substring(1);
                    if(remove === searchTerm("active"))
                        a[q].className = a[q].classList + " is-active";
                    if(remove === terms_hide[o])
                        a[q].parentElement.removeChild(a[q]);
                }
            }
        </script>
        <!--Script needed to resize the frame-->
        <script type="text/javascript" src="https://cdn.rawgit.com/davidjbradshaw/iframe-resizer/master/js/iframeResizer.contentWindow.min.js"></script>
    </body>
</html>
